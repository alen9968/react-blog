{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport I, { isImmutable } from 'immutable';\nexport default (reducer => (aState, action) => {\n  let {\n    path,\n    value\n  } = action;\n  let state;\n\n  if (!isImmutable(aState)) {\n    state = I.fromJS(aState);\n  } else {\n    state = aState;\n  }\n\n  if (!isImmutable(value)) {\n    value = I.fromJS(value);\n  }\n\n  if (!_Array$isArray(path)) {\n    path = [path];\n  }\n\n  return reducer(state, _objectSpread({}, action, {\n    value,\n    path\n  }));\n});","map":{"version":3,"sources":["/Users/zhangxuecai/Projects/react-blog/redux/immutableHandler.js"],"names":["I","isImmutable","reducer","aState","action","path","value","state","fromJS"],"mappings":";;AAAA,OAAOA,CAAP,IAAYC,WAAZ,QAA+B,WAA/B;AAEA,gBAAeC,OAAO,IAAI,CAACC,MAAD,EAASC,MAAT,KAAoB;AAC5C,MAAI;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBF,MAAtB;AACA,MAAIG,KAAJ;;AACA,MAAI,CAACN,WAAW,CAACE,MAAD,CAAhB,EAA0B;AACxBI,IAAAA,KAAK,GAAGP,CAAC,CAACQ,MAAF,CAASL,MAAT,CAAR;AACD,GAFD,MAEO;AACLI,IAAAA,KAAK,GAAGJ,MAAR;AACD;;AACD,MAAI,CAACF,WAAW,CAACK,KAAD,CAAhB,EAAyB;AACvBA,IAAAA,KAAK,GAAGN,CAAC,CAACQ,MAAF,CAASF,KAAT,CAAR;AACD;;AACD,MAAI,CAAC,eAAcD,IAAd,CAAL,EAA0B;AACxBA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;AACD;;AACD,SAAOH,OAAO,CAACK,KAAD,oBAAaH,MAAb;AAAqBE,IAAAA,KAArB;AAA4BD,IAAAA;AAA5B,KAAd;AACD,CAfD","sourcesContent":["import I, { isImmutable } from 'immutable'\n\nexport default reducer => (aState, action) => {\n  let { path, value } = action\n  let state\n  if (!isImmutable(aState)) {\n    state = I.fromJS(aState)\n  } else {\n    state = aState\n  }\n  if (!isImmutable(value)) {\n    value = I.fromJS(value)\n  }\n  if (!Array.isArray(path)) {\n    path = [path]\n  }\n  return reducer(state, { ...action, value, path })\n}\n"]},"metadata":{},"sourceType":"module"}