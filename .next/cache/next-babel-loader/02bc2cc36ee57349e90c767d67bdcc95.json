{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport I, { isImmutable } from 'immutable';\nexport default (function (reducer) {\n  return function (aState, action) {\n    var path = action.path,\n        value = action.value;\n    var state;\n\n    if (!isImmutable(aState)) {\n      state = I.fromJS(aState);\n    } else {\n      state = aState;\n    }\n\n    if (!isImmutable(value)) {\n      value = I.fromJS(value);\n    }\n\n    if (!_Array$isArray(path)) {\n      path = [path];\n    }\n\n    return reducer(state, _objectSpread({}, action, {\n      value: value,\n      path: path\n    }));\n  };\n});","map":{"version":3,"sources":["/Users/zhangxuecai/Projects/react-blog/redux/immutableHandler.js"],"names":["I","isImmutable","reducer","aState","action","path","value","state","fromJS"],"mappings":";;AAAA,OAAOA,CAAP,IAAYC,WAAZ,QAA+B,WAA/B;AAEA,gBAAe,UAAAC,OAAO;AAAA,SAAI,UAACC,MAAD,EAASC,MAAT,EAAoB;AAAA,QACtCC,IADsC,GACtBD,MADsB,CACtCC,IADsC;AAAA,QAChCC,KADgC,GACtBF,MADsB,CAChCE,KADgC;AAE5C,QAAIC,KAAJ;;AACA,QAAI,CAACN,WAAW,CAACE,MAAD,CAAhB,EAA0B;AACxBI,MAAAA,KAAK,GAAGP,CAAC,CAACQ,MAAF,CAASL,MAAT,CAAR;AACD,KAFD,MAEO;AACLI,MAAAA,KAAK,GAAGJ,MAAR;AACD;;AACD,QAAI,CAACF,WAAW,CAACK,KAAD,CAAhB,EAAyB;AACvBA,MAAAA,KAAK,GAAGN,CAAC,CAACQ,MAAF,CAASF,KAAT,CAAR;AACD;;AACD,QAAI,CAAC,eAAcD,IAAd,CAAL,EAA0B;AACxBA,MAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;AACD;;AACD,WAAOH,OAAO,CAACK,KAAD,oBAAaH,MAAb;AAAqBE,MAAAA,KAAK,EAALA,KAArB;AAA4BD,MAAAA,IAAI,EAAJA;AAA5B,OAAd;AACD,GAfqB;AAAA,CAAtB","sourcesContent":["import I, { isImmutable } from 'immutable'\n\nexport default reducer => (aState, action) => {\n  let { path, value } = action\n  let state\n  if (!isImmutable(aState)) {\n    state = I.fromJS(aState)\n  } else {\n    state = aState\n  }\n  if (!isImmutable(value)) {\n    value = I.fromJS(value)\n  }\n  if (!Array.isArray(path)) {\n    path = [path]\n  }\n  return reducer(state, { ...action, value, path })\n}\n"]},"metadata":{},"sourceType":"module"}