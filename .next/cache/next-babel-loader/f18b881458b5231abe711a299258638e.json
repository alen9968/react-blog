{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nvar _jsxFileName = \"/Users/zhangxuecai/Projects/react-blog/utils/index.js\";\nvar __jsx = React.createElement;\nimport _ from 'lodash';\nimport React from 'react';\nimport { isImmutable } from 'immutable';\nimport { Select, notification, Button, Icon } from 'antd';\nimport Mousetrap from 'mousetrap';\nimport { init } from '@sentry/browser';\nimport getConfig from 'next/config';\nconst {\n  publicRuntimeConfig\n} = getConfig();\nconst {\n  NODE_ENV\n} = publicRuntimeConfig;\nconst {\n  Option\n} = Select;\nexport function randomState(digits) {\n  return Math.random().toString(36).substring(digits);\n}\nexport function mapToOptions(map) {\n  return _.map(map, (text, value) => __jsx(Option, {\n    value: value,\n    key: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, text));\n}\nexport function byteToGB(bytes) {\n  return ((bytes || 0) / 1073741824).toFixed(3);\n}\nexport function ensurePresentInState(submodule, path) {\n  return new _Promise(resolve => {\n    ;\n\n    (function waitUntilPresentInState() {\n      const value = STATE()[submodule].getIn(path);\n\n      if (isImmutable(value) ? value.isEmpty() : _.isEmpty(value)) {\n        setTimeout(waitUntilPresentInState, 250);\n      } else {\n        resolve();\n      }\n    })();\n  });\n}\nexport function notifyStellarClient(action, extra) {\n  const m = {\n    action\n  };\n\n  if (extra) {\n    m.extra = extra;\n  }\n\n  try {\n    window.webkit.messageHandlers.ralletsClient.postMessage(m);\n  } catch (error) {\n    console.error(error);\n  }\n\n  try {\n    window.external.notifyStellarClient(_JSON$stringify(m));\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport function setLanguage(l) {\n  localStorage.setItem('LANGUAGE', l);\n  window.location.reload();\n}\nexport function bindShortcuts() {\n  Mousetrap.bind('esc l', () => {\n    localStorage.setItem('resolveByLocal', true);\n    window.location.reload();\n  });\n  Mousetrap.bind('esc r', () => {\n    localStorage.setItem('resolveByLocal', false);\n    window.location.reload();\n  });\n}\nexport function initSentry() {\n  if (NODE_ENV === 'production') {\n    init({\n      dsn: 'https://cde83efdf1bf40618beab9de56176221@sentry.quanzhan.io/11'\n    });\n  }\n}\nexport function notificationOpen(key, m, description, onOk, icon, onClose, d = 20) {\n  notification.open({\n    duration: d,\n    placement: 'bottomRight',\n    key,\n    message: m,\n    description,\n    btn: onOk ? __jsx(Button, {\n      type: \"primary\",\n      onClick: onOk,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"OK\") : null,\n    icon,\n    onClose\n  });\n}\nexport function progressColor() {\n  return 'linear-gradient(270deg,rgba(0,127,156,1) 0%,rgba(1,203,154,1) 100%)';\n}\nexport function iconButton(icon, onclick) {\n  return __jsx(Icon, {\n    type: icon,\n    style: {\n      fontSize: '1.5em',\n      cursor: 'pointer'\n    },\n    onClick: onclick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  });\n}\nexport function dispatchEvent(eventName) {\n  if (_.isFunction(window.Event)) {\n    window.dispatchEvent(new window.Event(eventName));\n  } else {\n    const customEvent = document.createEvent('HTMLEvents');\n    customEvent.initEvent(eventName, true, true);\n    document.dispatchEvent(customEvent);\n  }\n}\nexport function isMobile() {\n  return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n}\nexport function isAndroid() {\n  return /Android/i.test(navigator.userAgent);\n}\nexport function isIPhone() {\n  return /iPhone|iPad|iPod/i.test(navigator.userAgent);\n}\nexport function isIE() {\n  return /Edge|MSIE|trident/i.test(navigator.userAgent);\n}\nexport function isSafari() {\n  return /^((?!chrome|android).)*safari/i.test(navigator.userAgent.toLowerCase());\n}\nexport function logStack() {\n  const {\n    stack\n  } = new Error();\n  console.warn('PRINTING CALL STACK');\n  console.warn(stack);\n}","map":{"version":3,"sources":["/Users/zhangxuecai/Projects/react-blog/utils/index.js"],"names":["_","React","isImmutable","Select","notification","Button","Icon","Mousetrap","init","getConfig","publicRuntimeConfig","NODE_ENV","Option","randomState","digits","Math","random","toString","substring","mapToOptions","map","text","value","byteToGB","bytes","toFixed","ensurePresentInState","submodule","path","resolve","waitUntilPresentInState","STATE","getIn","isEmpty","setTimeout","notifyStellarClient","action","extra","m","window","webkit","messageHandlers","ralletsClient","postMessage","error","console","external","setLanguage","l","localStorage","setItem","location","reload","bindShortcuts","bind","initSentry","dsn","notificationOpen","key","description","onOk","icon","onClose","d","open","duration","placement","message","btn","progressColor","iconButton","onclick","fontSize","cursor","dispatchEvent","eventName","isFunction","Event","customEvent","document","createEvent","initEvent","isMobile","test","navigator","userAgent","isAndroid","isIPhone","isIE","isSafari","toLowerCase","logStack","stack","Error","warn"],"mappings":";;;;AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,MAAT,EAAiBC,YAAjB,EAA+BC,MAA/B,EAAuCC,IAAvC,QAAmD,MAAnD;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAA0BD,SAAS,EAAzC;AACA,MAAM;AAAEE,EAAAA;AAAF,IAAeD,mBAArB;AAEA,MAAM;AAAEE,EAAAA;AAAF,IAAaT,MAAnB;AAIA,OAAO,SAASU,WAAT,CAAqBC,MAArB,EAA6B;AAClC,SAAOC,IAAI,CAACC,MAAL,GACJC,QADI,CACK,EADL,EAEJC,SAFI,CAEMJ,MAFN,CAAP;AAGD;AAGD,OAAO,SAASK,YAAT,CAAsBC,GAAtB,EAA2B;AAChC,SAAOpB,CAAC,CAACoB,GAAF,CAAMA,GAAN,EAAW,CAACC,IAAD,EAAOC,KAAP,KAChB,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,KAAf;AAAsB,IAAA,GAAG,EAAEA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,IADH,CADK,CAAP;AAKD;AAED,OAAO,SAASE,QAAT,CAAkBC,KAAlB,EAAyB;AAC9B,SAAO,CAAC,CAACA,KAAK,IAAI,CAAV,IAAe,UAAhB,EAA4BC,OAA5B,CAAoC,CAApC,CAAP;AACD;AAED,OAAO,SAASC,oBAAT,CAA8BC,SAA9B,EAAyCC,IAAzC,EAA+C;AACpD,SAAO,aAAYC,OAAO,IAAI;AAC5B;;AAAC,KAAC,SAASC,uBAAT,GAAmC;AACnC,YAAMR,KAAK,GAAGS,KAAK,GAAGJ,SAAH,CAAL,CAAmBK,KAAnB,CAAyBJ,IAAzB,CAAd;;AACA,UAAI1B,WAAW,CAACoB,KAAD,CAAX,GAAqBA,KAAK,CAACW,OAAN,EAArB,GAAuCjC,CAAC,CAACiC,OAAF,CAAUX,KAAV,CAA3C,EAA6D;AAC3DY,QAAAA,UAAU,CAACJ,uBAAD,EAA0B,GAA1B,CAAV;AACD,OAFD,MAEO;AACLD,QAAAA,OAAO;AACR;AACF,KAPA;AAQF,GATM,CAAP;AAUD;AAED,OAAO,SAASM,mBAAT,CAA6BC,MAA7B,EAAqCC,KAArC,EAA4C;AACjD,QAAMC,CAAC,GAAG;AAAEF,IAAAA;AAAF,GAAV;;AAEA,MAAIC,KAAJ,EAAW;AACTC,IAAAA,CAAC,CAACD,KAAF,GAAUA,KAAV;AACD;;AACD,MAAI;AACFE,IAAAA,MAAM,CAACC,MAAP,CAAcC,eAAd,CAA8BC,aAA9B,CAA4CC,WAA5C,CAAwDL,CAAxD;AACD,GAFD,CAEE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;;AACD,MAAI;AACFL,IAAAA,MAAM,CAACO,QAAP,CAAgBX,mBAAhB,CAAoC,gBAAeG,CAAf,CAApC;AACD,GAFD,CAEE,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF;AAED,OAAO,SAASG,WAAT,CAAqBC,CAArB,EAAwB;AAC7BC,EAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,CAAjC;AACAT,EAAAA,MAAM,CAACY,QAAP,CAAgBC,MAAhB;AACD;AAED,OAAO,SAASC,aAAT,GAAyB;AAC9B9C,EAAAA,SAAS,CAAC+C,IAAV,CAAe,OAAf,EAAwB,MAAM;AAC5BL,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuC,IAAvC;AACAX,IAAAA,MAAM,CAACY,QAAP,CAAgBC,MAAhB;AACD,GAHD;AAIA7C,EAAAA,SAAS,CAAC+C,IAAV,CAAe,OAAf,EAAwB,MAAM;AAC5BL,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuC,KAAvC;AACAX,IAAAA,MAAM,CAACY,QAAP,CAAgBC,MAAhB;AACD,GAHD;AAID;AAED,OAAO,SAASG,UAAT,GAAsB;AAC3B,MAAI5C,QAAQ,KAAK,YAAjB,EAA+B;AAC7BH,IAAAA,IAAI,CAAC;AACHgD,MAAAA,GAAG,EAAE;AADF,KAAD,CAAJ;AAGD;AACF;AAED,OAAO,SAASC,gBAAT,CAA0BC,GAA1B,EAA+BpB,CAA/B,EAAkCqB,WAAlC,EAA+CC,IAA/C,EAAqDC,IAArD,EAA2DC,OAA3D,EAAoEC,CAAC,GAAG,EAAxE,EAA4E;AACjF3D,EAAAA,YAAY,CAAC4D,IAAb,CAAkB;AAChBC,IAAAA,QAAQ,EAAEF,CADM;AAEhBG,IAAAA,SAAS,EAAE,aAFK;AAGhBR,IAAAA,GAHgB;AAIhBS,IAAAA,OAAO,EAAE7B,CAJO;AAKhBqB,IAAAA,WALgB;AAMhBS,IAAAA,GAAG,EAAER,IAAI,GACP,MAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAEA,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADO,GAIL,IAVY;AAWhBC,IAAAA,IAXgB;AAYhBC,IAAAA;AAZgB,GAAlB;AAcD;AAED,OAAO,SAASO,aAAT,GAAyB;AAC9B,SAAO,qEAAP;AACD;AAED,OAAO,SAASC,UAAT,CAAoBT,IAApB,EAA0BU,OAA1B,EAAmC;AACxC,SAAO,MAAC,IAAD;AAAM,IAAA,IAAI,EAAEV,IAAZ;AAAkB,IAAA,KAAK,EAAE;AAAEW,MAAAA,QAAQ,EAAE,OAAZ;AAAqBC,MAAAA,MAAM,EAAE;AAA7B,KAAzB;AAAmE,IAAA,OAAO,EAAEF,OAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD;AAED,OAAO,SAASG,aAAT,CAAuBC,SAAvB,EAAkC;AACvC,MAAI3E,CAAC,CAAC4E,UAAF,CAAarC,MAAM,CAACsC,KAApB,CAAJ,EAAgC;AAC9BtC,IAAAA,MAAM,CAACmC,aAAP,CAAqB,IAAInC,MAAM,CAACsC,KAAX,CAAiBF,SAAjB,CAArB;AACD,GAFD,MAEO;AACL,UAAMG,WAAW,GAAGC,QAAQ,CAACC,WAAT,CAAqB,YAArB,CAApB;AACAF,IAAAA,WAAW,CAACG,SAAZ,CAAsBN,SAAtB,EAAiC,IAAjC,EAAuC,IAAvC;AACAI,IAAAA,QAAQ,CAACL,aAAT,CAAuBI,WAAvB;AACD;AACF;AAED,OAAO,SAASI,QAAT,GAAoB;AACzB,SAAO,4BAA4BC,IAA5B,CAAiCC,SAAS,CAACC,SAA3C,CAAP;AACD;AAED,OAAO,SAASC,SAAT,GAAqB;AAC1B,SAAO,WAAWH,IAAX,CAAgBC,SAAS,CAACC,SAA1B,CAAP;AACD;AAED,OAAO,SAASE,QAAT,GAAoB;AACzB,SAAO,oBAAoBJ,IAApB,CAAyBC,SAAS,CAACC,SAAnC,CAAP;AACD;AAED,OAAO,SAASG,IAAT,GAAgB;AACrB,SAAO,qBAAqBL,IAArB,CAA0BC,SAAS,CAACC,SAApC,CAAP;AACD;AAED,OAAO,SAASI,QAAT,GAAoB;AACzB,SAAO,iCAAiCN,IAAjC,CAAsCC,SAAS,CAACC,SAAV,CAAoBK,WAApB,EAAtC,CAAP;AACD;AAED,OAAO,SAASC,QAAT,GAAoB;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAY,IAAIC,KAAJ,EAAlB;AACAhD,EAAAA,OAAO,CAACiD,IAAR,CAAa,qBAAb;AACAjD,EAAAA,OAAO,CAACiD,IAAR,CAAaF,KAAb;AACD","sourcesContent":["import _ from 'lodash'\nimport React from 'react'\nimport { isImmutable } from 'immutable'\nimport { Select, notification, Button, Icon } from 'antd'\nimport Mousetrap from 'mousetrap'\nimport { init } from '@sentry/browser'\nimport getConfig from 'next/config'\n\nconst { publicRuntimeConfig } = getConfig()\nconst { NODE_ENV } = publicRuntimeConfig\n\nconst { Option } = Select\n\n\n\nexport function randomState(digits) {\n  return Math.random()\n    .toString(36)\n    .substring(digits)\n}\n\n\nexport function mapToOptions(map) {\n  return _.map(map, (text, value) => (\n    <Option value={value} key={value}>\n      {text}\n    </Option>\n  ))\n}\n\nexport function byteToGB(bytes) {\n  return ((bytes || 0) / 1073741824).toFixed(3)\n}\n\nexport function ensurePresentInState(submodule, path) {\n  return new Promise(resolve => {\n    ;(function waitUntilPresentInState() {\n      const value = STATE()[submodule].getIn(path)\n      if (isImmutable(value) ? value.isEmpty() : _.isEmpty(value)) {\n        setTimeout(waitUntilPresentInState, 250)\n      } else {\n        resolve()\n      }\n    })()\n  })\n}\n\nexport function notifyStellarClient(action, extra) {\n  const m = { action }\n\n  if (extra) {\n    m.extra = extra\n  }\n  try {\n    window.webkit.messageHandlers.ralletsClient.postMessage(m)\n  } catch (error) {\n    console.error(error)\n  }\n  try {\n    window.external.notifyStellarClient(JSON.stringify(m))\n  } catch (error) {\n    console.error(error)\n  }\n}\n\nexport function setLanguage(l) {\n  localStorage.setItem('LANGUAGE', l)\n  window.location.reload()\n}\n\nexport function bindShortcuts() {\n  Mousetrap.bind('esc l', () => {\n    localStorage.setItem('resolveByLocal', true)\n    window.location.reload()\n  })\n  Mousetrap.bind('esc r', () => {\n    localStorage.setItem('resolveByLocal', false)\n    window.location.reload()\n  })\n}\n\nexport function initSentry() {\n  if (NODE_ENV === 'production') {\n    init({\n      dsn: 'https://cde83efdf1bf40618beab9de56176221@sentry.quanzhan.io/11'\n    })\n  }\n}\n\nexport function notificationOpen(key, m, description, onOk, icon, onClose, d = 20) {\n  notification.open({\n    duration: d,\n    placement: 'bottomRight',\n    key,\n    message: m,\n    description,\n    btn: onOk ? (\n      <Button type=\"primary\" onClick={onOk}>\n        OK\n      </Button>\n    ) : null,\n    icon,\n    onClose\n  })\n}\n\nexport function progressColor() {\n  return 'linear-gradient(270deg,rgba(0,127,156,1) 0%,rgba(1,203,154,1) 100%)'\n}\n\nexport function iconButton(icon, onclick) {\n  return <Icon type={icon} style={{ fontSize: '1.5em', cursor: 'pointer' }} onClick={onclick} />\n}\n\nexport function dispatchEvent(eventName) {\n  if (_.isFunction(window.Event)) {\n    window.dispatchEvent(new window.Event(eventName))\n  } else {\n    const customEvent = document.createEvent('HTMLEvents')\n    customEvent.initEvent(eventName, true, true)\n    document.dispatchEvent(customEvent)\n  }\n}\n\nexport function isMobile() {\n  return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)\n}\n\nexport function isAndroid() {\n  return /Android/i.test(navigator.userAgent)\n}\n\nexport function isIPhone() {\n  return /iPhone|iPad|iPod/i.test(navigator.userAgent)\n}\n\nexport function isIE() {\n  return /Edge|MSIE|trident/i.test(navigator.userAgent)\n}\n\nexport function isSafari() {\n  return /^((?!chrome|android).)*safari/i.test(navigator.userAgent.toLowerCase())\n}\n\nexport function logStack() {\n  const { stack } = new Error()\n  console.warn('PRINTING CALL STACK')\n  console.warn(stack)\n}\n"]},"metadata":{},"sourceType":"module"}